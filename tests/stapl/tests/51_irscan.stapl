NOTE "TEST" "IR SCAN 1010";
NOTE "TEST" "STATE IDLE";

NOTE "TEST" "IR SCAN 10111011";
NOTE "TEST" "STATE IRPAUSE";

NOTE "TEST" "IR SCAN 101010111100";
NOTE "TEST" "STATE IRPAUSE";
NOTE "TEST" "0abc";

NOTE "TEST" "IR SCAN 0001001000110100";
NOTE "TEST" "STATE IRPAUSE";
NOTE "TEST" "0";
NOTE "TEST" "IR SCAN 0001001000110100";
NOTE "TEST" "STATE IRPAUSE";
NOTE "TEST" "1";

ACTION TEST = DO_TEST;

PROCEDURE DO_TEST;
    BOOLEAN ir[4] = #1010;
    IRSCAN 4, ir;
    IRSTOP IRPAUSE;
    IRSCAN 8, $bb;
    BOOLEAN cap[12];
    IRSCAN 12, $abc, CAPTURE cap;
    EXPORT "TEST", cap;
    BOOLEAN result = 1;
    IRSCAN 16, $1234, COMPARE $0204, $FFFF, result;
    EXPORT "TEST", result;
    IRSCAN 16, $1234, COMPARE $0204, $0F0F, result;
    EXPORT "TEST", result;
ENDPROC;

CRC 0;
