NOTE "TEST" "DR SCAN 1010";
NOTE "TEST" "STATE IDLE";

NOTE "TEST" "DR SCAN 10111011";
NOTE "TEST" "STATE DRPAUSE";

NOTE "TEST" "DR SCAN 101010111100";
NOTE "TEST" "STATE DRPAUSE";
NOTE "TEST" "0abc";

NOTE "TEST" "DR SCAN 0001001000110100";
NOTE "TEST" "STATE DRPAUSE";
NOTE "TEST" "0";
NOTE "TEST" "DR SCAN 0001001000110100";
NOTE "TEST" "STATE DRPAUSE";
NOTE "TEST" "1";

ACTION TEST = DO_TEST;

PROCEDURE DO_TEST;
    BOOLEAN dr[4] = #1010;
    DRSCAN 4, dr;
    DRSTOP DRPAUSE;
    DRSCAN 8, $bb;
    BOOLEAN cap[12];
    DRSCAN 12, $abc, CAPTURE cap;
    EXPORT "TEST", cap;
    BOOLEAN result = 0;
    DRSCAN 16, $1234, COMPARE $0204, $FFFF, result;
    EXPORT "TEST", result;
    DRSCAN 16, $1234, COMPARE $0204, $0F0F, result;
    EXPORT "TEST", result;
ENDPROC;

CRC 0;
